// Function for appName =ing the aesthetically pleasing stylization of an app name
// The case is the id of the app in the HTML, the appName = is what the user
// will see.
function appMeta(appID){
    switch(appID){
        case 'andless':
            appName = 'andLess';
            qrLink = "market://details?id=net.avs234";
            break;
        case 'andstatus':
            appName = 'AndStatus';
            qrLink = "market://details?id=org.andstatus.app";
            break;
        case 'antennapod':
            appName = 'AntennaPod';
            qrLink = "market://details?id=de.danoeh.antennapod";
            break;
        case 'anysoftkeyboard':
            appName = 'AnySoftKeyboard';
            qrLink = "market://details?id=com.menny.android.anysoftkeyboard";
            break;
        case 'barcodescanner':
            appName = 'Barcode Scanner';
            qrLink = "market://details?id=com.google.zxing.client.android";
            break;
        case 'cgeo':
            appName = 'c:geo';
            qrLink = "market://details?id=cgeo.geocaching";
            break;
        case 'chatsecure':
            appName = 'ChatSecure';
            qrLink = "market://details?id=info.guardianproject.otr.app.im";
            break;
        case 'csipsimple':
            appName = 'CSipSimple';
            qrLink = "market://details?id=com.csipsimple";
            break;
        case 'fbreader':
            appName = 'FBReader';
            qrLink = "market://details?id=org.geometerplus.zlibrary.ui.android";
            break;
        case 'feedex':
            appName = 'FeedEx';
            qrLink = "market://details?id=net.fred.feedex";
            break;
        case 'fileexplorer':
            appName = 'File Explorer';
            qrLink = "market://details?id=net.appositedesigns.fileexplorer";
            break;
        case 'firefox':
            appName = 'Firefox';
            qrLink = "market://details?id=org.mozilla.firefox";
            break;
        case 'ghostcommander':
            appName = 'Ghost Commander';
            qrLink = "market://details?id=com.ghostsq.commander";
            break;
        case 'hackerskeyboard':
            appName = 'Hacker\'s Keyboard';
            qrLink = "market://details?id=org.pocketworkstation.pckeyboard";
            break;
        case 'impeller':
            appName = 'Impeller';
            qrLink = "market://details?id=eu.e43.impeller";
            break;
        case 'k9':
            appName = 'K-9 Mail';
            qrLink = "market://details?id=com.fsck.k9";
            break;
        case 'linphone':
            appName = 'Linphone Video';
            qrLink = "market://details?id=org.linphone";
            break;
        case 'mosf':
            appName = 'Minimal Open Source Flashlight';
            qrLink = "market://details?id=de.repat.mosf";
            break;
        case 'mupdf':
            appName = 'MuPDF';
            qrLink = "market://details?id=com.artifex.mupdfdemo";
            break;
        case 'musicplayer':
            appName = 'Music Player';
            qrLink = "market://details?id=com.android.music";
            break;
        case 'navit':
            appName = 'Navit';
            qrLink = "market://details?id=org.navitproject.navit";
            break;
        case 'notecipher':
            appName = 'NoteCipher';
            qrLink = "market://details?id=info.guardianproject.notepadbot";
            break;
        case 'oifilemanager':
            appName = 'OI File Manager';
            qrLink = "market://details?id=org.openintents.filemanager";
            break;
        case 'oiflashlight':
            appName = 'OI Flashlight';
            qrLink = "market://details?id=org.openintents.flashlight";
            break;
        case 'oinotepad':
            appName = 'OI Notepad';
            qrLink = "market://details?id=org.openintents.notepad";
            break;
        case 'opendocumentreader':
            appName = 'OpenDocument Reader';
            qrLink = "market://details?id=at.tomtasche.reader";
            break;
        case 'openmanager':
            appName = 'Open Manager';
            qrLink = "market://details?id=com.nexes.manager";
            break;
        case 'osmand':
            appName = 'OsmAnd';
            qrLink = "market://details?id=net.osmand.plus";
            break;
        case 'owncloud':
            appName = 'ownCloud';
            qrLink = "market://details?id=com.owncloud.android";
            break;
        case 'owncloudnewsreader':
            appName = 'ownCloud News Reader';
            qrLink = "market://details?id=de.luhmer.owncloudnewsreader";
            break;
        case 'prey':
            appName = 'Prey';
            qrLink = "market://details?id=com.prey";
            break;
        case 'redphone':
            appName = 'RedPhone';
            qrLink = "market://details?id=org.thoughtcrime.redphone";
            break;
        case 'redreader':
            appName = 'RedReader';
            qrLink = "market://details?id=org.quantumbadger.redreader";
            break;
        case 'sipdroid':
            appName = 'Sipdroid';
            qrLink = "market://details?id=org.sipdroid.sipua";
            break;
        case 'surespot':
            appName = 'surespot';
            qrLink = "market://details?id=com.twofours.surespot";
            break;
        case 'telegram':
            appName = 'Telegram';
            qrLink = "market://details?id=org.telegram.messenger";
            break;
        case 'tinfoil':
            appName = 'Tinfoil';
            qrLink = "market://details?id=com.danvelazco.fbwrapper";
            break;
        case 'tint':
            appName = 'Tint';
            qrLink = "market://details?id=org.tint";
            break;
        case 'tomdroid':
            appName = 'Tomdroid';
            qrLink = "market://details?id=org.tomdroid";
            break;
        case 'ttrssreader':
            appName = 'TTRSS-Reader';
            qrLink = "market://details?id=org.ttrssreader";
            break;
        case 'tweetlanes':
            appName = 'Tweet Lanes';
            qrLink = "market://details?id=com.tweetlanes.android";
            break;
        case 'twidere':
            appName = 'Twidere';
            qrLink = "market://details?id=org.mariotaku.twidere";
            break;
        case 'vanillamusic':
            appName = 'Vanilla Music';
            qrLink = "market://details?id=ch.blinkenlights.android.vanilla";
            break;
        case 'vlc':
            appName = 'VLC';
            qrLink = "market://details?id=org.videolan.vlc";
            break;
            case 'vlcplayer':
            appName = 'VLC';
            qrLink = "market://details?id=org.videolan.vlc";
            break;
        case 'vudroid':
            appName = 'VuDroid';
            qrLink = "market://details?id=org.vudroid";
            break;
        case 'xabber':
            appName = 'Xabber';
            qrLink = "market://details?id=com.xabber.androiddev";
            break;
        case 'zirco':
            appName = 'Zirco Browser';
            qrLink = "market://details?id=org.zirco";
            break;
        default:
            appName = appID;
            qrLink = appID;
            break;
    }
}



// Variables
var qrFade = '#qrFade';             // The big, faded background behind the white one.
var qrBackground = '#qrBackground'; // The white background behind the QR code/text.
var qrText = '#qrText';             // The text with the app name and description.
var qrCode = '#qrCode';             // The actual QR code.


// Displays a faded background along with a popup of a QR code when the
// user clicks an image of the 'qr' class.
$(document).ready(function(){
    $('.qr').click(function(){
 
        // This sets variables according to which app QR was clicked.
        appMeta( $(this).attr('id') );

        // This weirdy indented mess is the block of HTML added to index.html
        // when clicking the QR link. The backslashes(\) are JS, not HTML, and
        // they allow us to escape newlines and thus make the indentions.
        // I like it, Vim's syntax hilighting does not.
        $('body').prepend('<div id="qrFade">\
                           </div>\
                           <div class="emph-Block" id="qrBackground">\
                               <div id="qrText">\
                                   <h2>'+appName+'</h2>\
                                   <a href="'+qrLink+'">\
                                       <h4>'+qrLink+'</h4>\
                                   </a>\
                                   <hr>\
                                   <h4>Scan using a barcode scanner.</h4>\
                               </div>\
                               <a href="'+qrLink+'">\
                                   <div id="qrCode"></div>\
                               </a>\
                               <script type="text/javascript">\
                                   new QRCode(document.getElementById("qrCode"), qrLink);\
                               </script>\
                           </div>');

        // This sets the margin and centers the popup.
        marginTop = $(qrBackground).height()/2;
        marginRight = $(qrBackground).width()/2;
        $(qrBackground).css({'margin-top': -marginTop, 'margin-right': -marginRight});

        //This fades the whole thing in, making it look quite nice.
        $(qrFade).fadeIn('slow');
        $(qrBackground).fadeIn('slow');
        $(qrText).fadeIn('slow');
        $(qrCode).fadeIn('slow');
    });
});


// Removes the QR popup and fade when clicking outside the white, i.e., on qrFade.
$(document).on('click', '#qrFade', function(){
    $(qrFade).remove();
    $(qrBackground).remove();
    $(qrText).remove();
    $(qrCode).remove();
});


// Maybe add resize reposition for .$(qrCode).
